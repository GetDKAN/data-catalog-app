version: '2.1'
orbs:
  docker: circleci/docker@2.2.0

commands:
  install-ddev:
    steps:
      - run:
          name: Install DDev
          command: |
            set -e
            sudo rm -rf /etc/apt/sources.list.d/heroku.list
            sudo apt-get update
            sudo apt-get install ca-certificates
            curl https://apt.fury.io/drud/gpg.key | sudo apt-key add -
            echo "deb https://apt.fury.io/drud/ * *" | sudo tee -a /etc/apt/sources.list.d/ddev.list
            sudo apt update && sudo apt install -y ddev
jobs:
  build:
    parallelism: 1
    docker:
      - image: cimg/node:23.11.0
    steps:
      - checkout
      - run:
          name: Check node
          command: node --version
      - run:
          name: Check npm
          command: npm --version
